<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <style>
        :root {
            --vscode-background: #1e1e1e;
            --vscode-foreground: #d4d4d4;
            --vscode-button-background: #3a3d41;
            --vscode-button-foreground: #ffffff;
            --vscode-button-hoverBackground: #45494e;
            --vscode-input-background: #3c3c3c;
            --vscode-input-foreground: #cccccc;
            --vscode-input-border: #007fd4;
            --vscode-tab-activeBackground: #1e1e1e;
            --vscode-tab-inactiveBackground: #2d2d2d;
            --vscode-tab-border: #252526;
            --element-border-color: #454545;
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--vscode-background);
            color: var(--vscode-foreground);
        }

        body {
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }

        #control-buttons {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: var(--vscode-background);
            padding: 10px;
            border-bottom: 1px solid var(--element-border-color);
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #chat-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            margin: 50px 10px 60px 10px;
            border: 1px solid var(--element-border-color);
            border-radius: 6px;
            overflow: hidden;
        }

        #chat-output {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: var(--vscode-background);
        }

        #user-input-container {
            position: fixed;
            bottom: 20px;
            left: 10px;
            right: 10px;
            background-color: var(--vscode-background);
            padding: 10px;
            border: 1px solid var(--element-border-color);
            border-radius: 6px;
        }

        #user-input {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            background-color: var(--vscode-input-background);
            color: var(--vscode-input-foreground);
            border: 1px solid var(--vscode-input-border);
            border-radius: 4px;
        }

        .button {
            padding: 5px 10px;
            margin-left: 5px;
            background-color: var(--vscode-background);
            color: var(--vscode-foreground);
            border: 1px solid var(--element-border-color);
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
        }

        .button:hover {
            background-color: var(--vscode-button-hoverBackground);
        }

        .tab {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--vscode-tab-inactiveBackground);
            border: 1px solid var(--vscode-tab-border);
            cursor: pointer;
            border-radius: 4px 4px 0 0;
            margin-right: 2px;
        }

        .tab.active {
            background-color: var(--vscode-tab-activeBackground);
            border-bottom: none;
        }
    </style>
</head>

<body>
    <div id="control-buttons">
        <div id="chat-indicators">
            <span class="tab active">Chat 1</span>
        </div>
        <div>
            <button class="button" onclick="clearChat()" title="Clear Chat">üóëÔ∏è</button>
            <button class="button" onclick="newChat()" title="New Chat">‚ûï</button>
        </div>
    </div>
    <div id="chat-container">
        <div id="chat-output"></div>
    </div>
    <div id="user-input-container">
        <input type="text" id="user-input" placeholder="Your wish is my command...">
    </div>
    <script src="${scriptUri}"></script>
    <script>
        (function () {
            if (typeof ChatView !== 'undefined' && typeof ChatView.initializeChatView === 'function') {
                ChatView.initializeChatView();
                console.log("Chat view initialized");
            } else {
                console.error("ChatView or initializeChatView function not found");
            }
        })();

        function clearChat() {
            const chatOut = document.getElementById('chat-output');
            chatOut.innerHTML = '';
            console.log("Clear chat");
        }

        function newChat() {
            console.log("New chat");
        }
    </script>
</body>

</html>
